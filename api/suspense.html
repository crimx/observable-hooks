<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Suspense | Observable Hooks</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="React hooks for RxJS Observables. Simple, flexible, testable and performant.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#9B59B6">
    <link rel="preload" href="/assets/css/0.styles.5e1f57d9.css" as="style"><link rel="preload" href="/assets/js/app.8c5634e3.js" as="script"><link rel="preload" href="/assets/js/3.4924f867.js" as="script"><link rel="preload" href="/assets/js/10.9a2a9ecc.js" as="script"><link rel="preload" href="/assets/js/5.1d4d528e.js" as="script"><link rel="preload" href="/assets/js/4.f2192f58.js" as="script"><link rel="prefetch" href="/assets/js/11.79bacc76.js"><link rel="prefetch" href="/assets/js/12.ac785721.js"><link rel="prefetch" href="/assets/js/13.cc7cfd07.js"><link rel="prefetch" href="/assets/js/14.f3d8d661.js"><link rel="prefetch" href="/assets/js/15.9c78793b.js"><link rel="prefetch" href="/assets/js/16.de6c994b.js"><link rel="prefetch" href="/assets/js/17.6caf1345.js"><link rel="prefetch" href="/assets/js/18.7dcf8f69.js"><link rel="prefetch" href="/assets/js/19.7a22ef11.js"><link rel="prefetch" href="/assets/js/20.56c9ed39.js"><link rel="prefetch" href="/assets/js/21.5eb6c55b.js"><link rel="prefetch" href="/assets/js/22.b0ab3dd5.js"><link rel="prefetch" href="/assets/js/23.c11efe09.js"><link rel="prefetch" href="/assets/js/24.baf0a7a9.js"><link rel="prefetch" href="/assets/js/25.554c3a72.js"><link rel="prefetch" href="/assets/js/26.ad49b897.js"><link rel="prefetch" href="/assets/js/27.5ce383fa.js"><link rel="prefetch" href="/assets/js/28.a41b2b94.js"><link rel="prefetch" href="/assets/js/29.d24e88d9.js"><link rel="prefetch" href="/assets/js/30.8b1b6c9f.js"><link rel="prefetch" href="/assets/js/31.3f251ee2.js"><link rel="prefetch" href="/assets/js/32.03261fb6.js"><link rel="prefetch" href="/assets/js/33.cc5d241c.js"><link rel="prefetch" href="/assets/js/34.9f40a0d4.js"><link rel="prefetch" href="/assets/js/35.e29a88fe.js"><link rel="prefetch" href="/assets/js/36.256f6589.js"><link rel="prefetch" href="/assets/js/37.f23acb65.js"><link rel="prefetch" href="/assets/js/38.b00f183c.js"><link rel="prefetch" href="/assets/js/39.01feda9b.js"><link rel="prefetch" href="/assets/js/40.5dfebc81.js"><link rel="prefetch" href="/assets/js/41.6828984e.js"><link rel="prefetch" href="/assets/js/42.a1adf8a6.js"><link rel="prefetch" href="/assets/js/6.46a713d7.js"><link rel="prefetch" href="/assets/js/7.6dd24a86.js"><link rel="prefetch" href="/assets/js/8.76682315.js"><link rel="prefetch" href="/assets/js/9.cd2df33f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e9a84dcc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5e1f57d9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Observable Hooks</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><a href="/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/suspense.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/api/suspense.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/crimx/observable-hooks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">
  API
</a></div><div class="nav-item"><a href="/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/suspense.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/api/suspense.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/crimx/observable-hooks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/" class="sidebar-link">Core</a></li><li><a href="/api/suspense.html" class="active sidebar-link">Suspense</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/suspense.html#observableresource" class="sidebar-link">ObservableResource</a></li><li class="sidebar-sub-header"><a href="/api/suspense.html#useobservablesuspense" class="sidebar-link">useObservableSuspense</a></li></ul></li><li><a href="/api/helpers.html" class="sidebar-link">Helpers</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="suspense"><a href="#suspense" class="header-anchor">#</a> Suspense</h1> <p>A concurrent mode safe way to use RxJS with React Suspense. See <a href="/guide/render-as-you-fetch-suspense.html">Render-as-You-Fetch (using Suspense)</a> for usage.</p> <h2 id="observableresource"><a href="#observableresource" class="header-anchor">#</a> ObservableResource</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Class ObservableResource<span class="token operator">&lt;</span>TInput<span class="token punctuation">,</span> TOutput<span class="token operator">&gt;</span>
</code></pre></div><p>Rewires Observable to Relay-like Suspense resource.</p> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.2.0</span> Added since v2.2.0.
<p><strong>Type parameters:</strong></p> <ul><li><code>TInput</code> Value type of the input Observable.</li> <li><code>TOutput</code> Resulted resource value. Default TInput.</li></ul> <p><strong>Constructors:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">new</span> <span class="token class-name">ObservableResource</span><span class="token punctuation">(</span>
  input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  isSuccess<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> TInput<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> value <span class="token keyword">is</span> TOutput
<span class="token punctuation">)</span><span class="token operator">:</span> ObservableResource
</code></pre></div><p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>input$</code></td> <td><code>Observable&lt;TInput&gt;</code></td> <td>An Observable.</td></tr> <tr><td><code>isSuccess</code></td> <td><code>(value: TInput): value is TOutput</code></td> <td>Optional function that determines if the value emitted from <code>input$</code> is of success state. If false a Suspense is triggered. Default all true.</td></tr></tbody></table> <p><strong>Public Properties:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>shouldUpdate$$</code></td> <td><code>Subject&lt;undefined&gt;</code></td> <td>Emit when the Component needs extra rerendering.</td></tr></tbody></table> <p><strong>Public Methods:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>read</code></td> <td><code>(): TOutput</code></td> <td>Return cached value on success state. Throw suspender on pending state. Throw error on error state.</td></tr> <tr><td><code>destroy</code></td> <td><code>(): void</code></td> <td>UnSubscribe input Observable.</td></tr> <tr><td><code>reload</code></td> <td><code>(newInput$?: Observable&lt;TInput&gt;): void</code></td> <td><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.3.5</span> Clean up and resubscribe input Observable. For errored hot observable there is no way to resubscribe hence a <code>newInput$</code> must be provided. Otherwise if omitted the original observable will be resubscribed. It is recommended to use cold observable if possible for easy reloading. (Also for those who are unfamiliar with observable temperature, even though a <code>Subject</code> is hot, <code>subject.pipe(...)</code> is cold.)</td></tr></tbody></table> <h2 id="useobservablesuspense"><a href="#useobservablesuspense" class="header-anchor">#</a> useObservableSuspense</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservableSuspense</span><span class="token generic class-name"><span class="token operator">&lt;</span>TInput<span class="token punctuation">,</span> TOutput<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  resource<span class="token operator">:</span> ObservableResource<span class="token operator">&lt;</span>TInput<span class="token punctuation">,</span> TOutput<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TOutput
</code></pre></div><p>Consume the Observable resource.</p> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.2.0</span> Added since v2.2.0.
<p>Unlike Promise, Observable implements multiple push protocol.
This hook triggers necessary re-rendering when Suspense should restart.</p> <p><strong>Type parameters:</strong></p> <ul><li><code>TInput</code> Value type of the input Observable.</li> <li><code>TOutput</code> Resulted resource value. Default TInput.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>resource</code></td> <td><code>ObservableResource&lt;TInput, TOutput&gt;</code></td> <td>Observable resource.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>TOutput</code> resource value.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/crimx/observable-hooks/edit/master/docs/api/suspense.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/" class="prev router-link-active">
        Core
      </a></span> <span class="next"><a href="/api/helpers.html">
        Helpers
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.8c5634e3.js" defer></script><script src="/assets/js/3.4924f867.js" defer></script><script src="/assets/js/10.9a2a9ecc.js" defer></script><script src="/assets/js/5.1d4d528e.js" defer></script><script src="/assets/js/4.f2192f58.js" defer></script>
  </body>
</html>
