<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Core | Observable Hooks</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="apple-touch-icon" sizes="57x57" href="/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="React hooks for RxJS Observables. Simple, flexible, testable and performant.">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#9B59B6">
    <link rel="preload" href="/assets/css/0.styles.5e1f57d9.css" as="style"><link rel="preload" href="/assets/js/app.c55819c0.js" as="script"><link rel="preload" href="/assets/js/3.4924f867.js" as="script"><link rel="preload" href="/assets/js/8.594cab63.js" as="script"><link rel="preload" href="/assets/js/5.1d4d528e.js" as="script"><link rel="preload" href="/assets/js/4.f2192f58.js" as="script"><link rel="prefetch" href="/assets/js/10.9a2a9ecc.js"><link rel="prefetch" href="/assets/js/11.57fea06d.js"><link rel="prefetch" href="/assets/js/12.ac785721.js"><link rel="prefetch" href="/assets/js/13.cc7cfd07.js"><link rel="prefetch" href="/assets/js/14.f3d8d661.js"><link rel="prefetch" href="/assets/js/15.81905663.js"><link rel="prefetch" href="/assets/js/16.de6c994b.js"><link rel="prefetch" href="/assets/js/17.6caf1345.js"><link rel="prefetch" href="/assets/js/18.7dcf8f69.js"><link rel="prefetch" href="/assets/js/19.7a22ef11.js"><link rel="prefetch" href="/assets/js/20.56c9ed39.js"><link rel="prefetch" href="/assets/js/21.06bb16a7.js"><link rel="prefetch" href="/assets/js/22.b0ab3dd5.js"><link rel="prefetch" href="/assets/js/23.c11efe09.js"><link rel="prefetch" href="/assets/js/24.8db88c91.js"><link rel="prefetch" href="/assets/js/25.554c3a72.js"><link rel="prefetch" href="/assets/js/26.ad49b897.js"><link rel="prefetch" href="/assets/js/27.5ce383fa.js"><link rel="prefetch" href="/assets/js/28.ac61505f.js"><link rel="prefetch" href="/assets/js/29.d24e88d9.js"><link rel="prefetch" href="/assets/js/30.8b1b6c9f.js"><link rel="prefetch" href="/assets/js/31.3f251ee2.js"><link rel="prefetch" href="/assets/js/32.03261fb6.js"><link rel="prefetch" href="/assets/js/33.cc5d241c.js"><link rel="prefetch" href="/assets/js/34.9f40a0d4.js"><link rel="prefetch" href="/assets/js/35.e29a88fe.js"><link rel="prefetch" href="/assets/js/36.256f6589.js"><link rel="prefetch" href="/assets/js/37.f23acb65.js"><link rel="prefetch" href="/assets/js/38.b00f183c.js"><link rel="prefetch" href="/assets/js/39.01feda9b.js"><link rel="prefetch" href="/assets/js/40.5dfebc81.js"><link rel="prefetch" href="/assets/js/41.6828984e.js"><link rel="prefetch" href="/assets/js/42.a1adf8a6.js"><link rel="prefetch" href="/assets/js/6.46a713d7.js"><link rel="prefetch" href="/assets/js/7.6dd24a86.js"><link rel="prefetch" href="/assets/js/9.cd2df33f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e9a84dcc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5e1f57d9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Observable Hooks</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/api/" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/crimx/observable-hooks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">
  API
</a></div><div class="nav-item"><a href="/examples/" class="nav-link">
  Examples
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-cn/api/" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/crimx/observable-hooks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/" class="active sidebar-link">Core</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#useobservable" class="sidebar-link">useObservable</a></li><li class="sidebar-sub-header"><a href="/api/#uselayoutobservable" class="sidebar-link">useLayoutObservable</a></li><li class="sidebar-sub-header"><a href="/api/#useobservablecallback" class="sidebar-link">useObservableCallback</a></li><li class="sidebar-sub-header"><a href="/api/#usesubscription" class="sidebar-link">useSubscription</a></li><li class="sidebar-sub-header"><a href="/api/#uselayoutsubscription" class="sidebar-link">useLayoutSubscription</a></li><li class="sidebar-sub-header"><a href="/api/#useobservablestate" class="sidebar-link">useObservableState</a></li><li class="sidebar-sub-header"><a href="/api/#useobservableeagerstate" class="sidebar-link">useObservableEagerState</a></li><li class="sidebar-sub-header"><a href="/api/#uselayoutobservablestate" class="sidebar-link">useLayoutObservableState</a></li><li class="sidebar-sub-header"><a href="/api/#useobservablegetstate" class="sidebar-link">useObservableGetState</a></li><li class="sidebar-sub-header"><a href="/api/#useobservablepickstate" class="sidebar-link">useObservablePickState</a></li><li class="sidebar-sub-header"><a href="/api/#userenderthrow" class="sidebar-link">useRenderThrow</a></li></ul></li><li><a href="/api/suspense.html" class="sidebar-link">Suspense</a></li><li><a href="/api/helpers.html" class="sidebar-link">Helpers</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="core"><a href="#core" class="header-anchor">#</a> Core</h1> <h2 id="useobservable"><a href="#useobservable" class="header-anchor">#</a> useObservable</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservable</span><span class="token generic class-name"><span class="token operator">&lt;</span>TOutput<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TOutput<span class="token operator">&gt;</span>
<span class="token generic-function"><span class="token function">useObservable</span><span class="token generic class-name"><span class="token operator">&lt;</span>TOutput<span class="token punctuation">,</span> TInputs<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
  inputs<span class="token operator">:</span> TInputs
<span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TOutput<span class="token operator">&gt;</span>
</code></pre></div><p>React functional components are called many times during their lifecycle. Create or transform Observables with <code>useObservable</code> so that the operations will not be repeatedly performed.</p> <p>Accepts an epic-like function that returns an Observable. Optionally accepts
an array of dependencies which will be turned into Observable and be passed to the epic function.</p> <div class="custom-block warning"><p class="custom-block-title">Gotcha</p> <p>It is not safe to access other variables from closure directly in the <code>init</code> function. See <a href="/guide/gotchas.html">Gotchas</a>.</p></div> <div class="custom-block warning"><p class="custom-block-title">Restriction</p> <p>The dependencies array is internally passed to <a href="https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect" target="_blank" rel="noopener noreferrer"><code>useEffect</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. So same restriction is applied. The length of the dependencies array must be fixed.</p></div> <p><strong>Type parameters:</strong></p> <ul><li><code>TOutput</code> Output value within Observable.</li> <li><code>TInputs</code> A readonly tuple of all dependencies.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>init</code></td> <td><code>(inputs$: Observable&lt;TInputs&gt;): Observable&lt;TOutput&gt;</code></td> <td>A pure function that, when applied to an Observable, returns an Observable.</td></tr> <tr><td><code>inputs</code></td> <td><code>TInputs</code></td> <td>An optional dependency array with fixed length. When one of the dependencies changes the Observable in <code>init</code> will emit an array of all the dependencies.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>Observable&lt;TOutput&gt;</code> Always the same Observable.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">CompProps</span> <span class="token punctuation">{</span>
  isOpen<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Comp<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>CompProps<span class="token operator">&gt;</span> <span class="token operator">=</span> props <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>showPanel<span class="token punctuation">,</span> setShowPanel<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

  <span class="token comment">// Listen to props or state change</span>
  <span class="token keyword">const</span> enhanced$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span>
    inputs$ <span class="token operator">=&gt;</span> inputs$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>isOpen<span class="token punctuation">,</span> showPanel<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isOpen <span class="token operator">&amp;&amp;</span> showPanel<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>props<span class="token punctuation">.</span>isOpen<span class="token punctuation">,</span> showPanel<span class="token punctuation">]</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Create Observable:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> now$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre></div><p>Transform Observables:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// outers$ are created from other React-unrelated module</span>
<span class="token keyword">const</span> enhanced$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> outers$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">mapTo</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>You can even mix them all together:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> enhanced$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span>
  inputs$ <span class="token operator">=&gt;</span> isEven$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">withLatestFrom</span><span class="token punctuation">(</span>inputs$<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>isEven<span class="token punctuation">,</span> <span class="token punctuation">[</span>isOpen<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isEven <span class="token operator">&amp;&amp;</span> isOpen<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>props<span class="token punctuation">.</span>isOpen<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="uselayoutobservable"><a href="#uselayoutobservable" class="header-anchor">#</a> useLayoutObservable</h2> <p>If no dependencies provided it is identical with <a href="#useobservable"><code>useObservable</code></a>. Otherwise it uses <a href="https://reactjs.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener noreferrer"><code>useLayoutEffect</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to listen props and state changes.</p> <p>This is useful if you need values before next paint.</p> <p>Use it scarcely as it runs synchronously before browser paint. Too many synchronous emissions from the observable could stretch the commit phase.</p> <h2 id="useobservablecallback"><a href="#useobservablecallback" class="header-anchor">#</a> useObservableCallback</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservableCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>TOutput<span class="token punctuation">,</span> TInput<span class="token punctuation">,</span> TParams<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span>
  selector<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">function</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">function</span><span class="token punctuation">,</span> Observable<span class="token operator">&lt;</span>TOutput<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre></div><p>Returns a callback function and an events Observable.</p> <p>Whenever the callback is called, the Observable will emit the first argument of the callback.</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.1.0</span> From <code>v2.1.0</code> optionally accepts a selector function which transforms an array of event arguments into a single value.
</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If you want to return state value instead of Observable see <a href="#useobservablestate">useObservableState</a>.</p></div> <div class="custom-block warning"><p class="custom-block-title">Gotcha</p> <p>It is not safe to access other variables from closure directly in the <code>init</code> function. See <a href="/guide/gotchas.html">Gotchas</a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In TypeScript if you want to invoke the callback with no argument, use <code>void</code> instead of <code>undefined</code> type.</p></div> <p><strong>Type parameters:</strong></p> <ul><li><code>TOutput</code> Output value within Observable.</li> <li><code>TInput</code> Selected values.</li> <li><code>TParams</code> A tuple of event callback parameters.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>init</code></td> <td><code>(inputs$: Observable&lt;TInputs&gt;): Observable&lt;TOutput&gt;</code></td> <td>A pure function that, when applied to an Observable, returns an Observable.</td></tr> <tr><td><code>selector</code></td> <td><code>(args: TParams): TInput</code></td> <td>An optional function that transforms an array of event arguments into a single value.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>[(...args: TParams): void, Observable&lt;TOutput&gt;]</code> A tuple with the same callback-Observable pair.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useObservableCallback<span class="token punctuation">,</span> useSubscription <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'observable-hooks'</span>

<span class="token keyword">const</span> <span class="token function-variable function">Comp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>onChange<span class="token punctuation">,</span> textChange$<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useObservableCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>
    <span class="token builtin">string</span><span class="token punctuation">,</span>
    React<span class="token punctuation">.</span>FormEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span>
  <span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>event$ <span class="token operator">=&gt;</span> event$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">pluck</span><span class="token punctuation">(</span><span class="token string">'currentTarget'</span><span class="token punctuation">,</span> <span class="token string">'value'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// or just use &quot;pluckCurrentTargetValue&quot; helper</span>

  <span class="token function">useSubscription</span><span class="token punctuation">(</span>textChange$<span class="token punctuation">,</span> <span class="token builtin">console</span><span class="token punctuation">.</span>log<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Transform event arguments:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useObservableCallback<span class="token punctuation">,</span> identity <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'observable-hooks'</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>onResize<span class="token punctuation">,</span> height$<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useObservableCallback</span><span class="token generic class-name"><span class="token operator">&lt;</span>
  <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token builtin">number</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>identity<span class="token punctuation">,</span> args <span class="token operator">=&gt;</span> args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// onResize is called with width and hegiht</span>
<span class="token comment">// height$ gets height values</span>
<span class="token function">onResize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="usesubscription"><a href="#usesubscription" class="header-anchor">#</a> useSubscription</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useSubscription</span><span class="token generic class-name"><span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  observer<span class="token operator">?</span><span class="token operator">:</span> PartialObserver<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> React<span class="token punctuation">.</span>MutableRefObject<span class="token operator">&lt;</span>Subscription <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span>
<span class="token generic-function"><span class="token function">useSubscription</span><span class="token generic class-name"><span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  next<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  error<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  complete<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">)</span><span class="token operator">:</span> React<span class="token punctuation">.</span>MutableRefObject<span class="token operator">&lt;</span>Subscription <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span>
</code></pre></div><p>Concurrent mode safe Observable subscription. Accepts an Observable and optional <code>next</code>, <code>error</code>, <code>complete</code> functions. These functions must be in correct order. Use <code>undefined</code> or <code>null</code> for placeholder.</p> <p>Why use it instead of just <code>useEffect</code>?</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">useEffect</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> subscription <span class="token operator">=</span> input$<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span>
      <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span>
      <span class="token literal-property property">complete</span><span class="token operator">:</span> <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      subscription<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>input$<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre></div><p>Because:</p> <ol><li>The observer callbacks could suffer from stale closure problem. It is not easy to directly reference any local values in the callbacks.</li> <li>It is not concurrent mode safe. Tearing could occur during changing of Observables.</li></ol> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.0.0</span> From <code>v2.0.0</code>. <code>useSubscription</code> will ensure the latest callback is called. You can safely reference any closure variable directly inside the callbacks.
</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.3.4</span> From <code>v2.3.4</code>. When the Observable changes <code>useSubscription</code> will automatically unsubscribe the old one and resubscribe to the new one.
</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v3.0.0</span> From <code>v3.0.0</code>. <code>useSubscription</code> is concurrent mode safe. It will prevent observer callbacks being called from stale Observable.
</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v3.2.0</span> From <code>v3.2.0</code>. <code>useSubscription</code> accepts an observer object. Huge thanks to <a href="https://github.com/crimx/observable-hooks/pull/38">OliverJAsh</a>!
</p> <p>To make it concurrent mode compatible, the subscription happens after the render is committed to the screen. Even if the Observable emits synchronous values they still will arrive after the first rendering. Check out <a href="#useobservableeagerstate"><code>useObservableEagerState</code></a> for skipping initial re-rendering with hot or pure observable that emits synchronous values.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Note that changes of the observer callbacks will not trigger an emission. If you need that just create another Observable of the callback with <a href="#useobservable"><code>useObservable</code></a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">Error Handling</p> <p>Due to the design of RxJS, once an error occurs in an observable, the observable is killed. You can:</p> <ul><li>Prevent errors from reaching observables or <a href="https://rxjs-dev.firebaseapp.com/api/operators/catchError" target="_blank" rel="noopener noreferrer"><code>catchError</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in sub-observables.</li> <li>You can also make the observable as state and replace it on error. It will automatically switch to the new one.</li> <li><a href="#userenderthrow"><code>useRenderThrow</code></a> From <code>v4.2.0</code>, Observable error can be caught by React error boundary in which you can perform actions to replace the dead Observable.</li></ul></div> <hr> <p><strong>Type parameters:</strong></p> <ul><li><code>TInput</code> Input value within Observable.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>input$</code></td> <td><code>Observable&lt;TInput&gt;</code></td> <td>Input Observable.</td></tr> <tr><td><code>next</code></td> <td><code>(value: TInput): void | null | undefined</code></td> <td>Notify when a new value is emitted.</td></tr> <tr><td><code>error</code></td> <td><code>(error: any): void | null | undefined</code></td> <td>Notify when a new error is thrown.</td></tr> <tr><td><code>complete</code></td> <td><code>(): void | null | undefined</code></td> <td>Notify when the Observable is complete.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>React.MutableRefObject&lt;Subscription | undefined&gt;</code> A ref object with the RxJS Subscription. the ref <code>current</code> is <code>undefined</code> on first rendering.</p> <hr> <p><strong>Type parameters:</strong></p> <ul><li><code>TInput</code> Input value within Observable.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>input$</code></td> <td><code>Observable&lt;TInput&gt; | null | undefined</code></td> <td>Input Observable.</td></tr> <tr><td><code>observer</code></td> <td><code>PartialObserver&lt;TInput&gt;</code></td> <td>Observer</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>React.MutableRefObject&lt;Subscription | undefined&gt;</code> A ref object with the RxJS Subscription. the ref <code>current</code> is <code>undefined</code> on first rendering.</p> <hr> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token function">useSubscription</span><span class="token punctuation">(</span>events$<span class="token punctuation">,</span> e <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>On complete</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token function">useSubscription</span><span class="token punctuation">(</span>events$<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'complete'</span>
</code></pre></div><p>Access closure:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>debug<span class="token punctuation">,</span> setDebug<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token function">useSubscription</span><span class="token punctuation">(</span>events$<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> error <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>debug<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Invoke props callback</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> subscription <span class="token operator">=</span> <span class="token function">useSubscription</span><span class="token punctuation">(</span>events$<span class="token punctuation">,</span> props<span class="token punctuation">.</span>onEvent<span class="token punctuation">)</span>
</code></pre></div><h2 id="uselayoutsubscription"><a href="#uselayoutsubscription" class="header-anchor">#</a> useLayoutSubscription</h2> <p>Same as <a href="#usesubscription">useSubscription</a> except the subscription is established under <code>useLayoutEffect</code>.</p> <p>Useful when values are needed before DOM paint.</p> <p>Use it scarcely as it runs synchronously before browser paint. Too many synchronous emissions from the observable could stretch the commit phase.</p> <h2 id="useobservablestate"><a href="#useobservablestate" class="header-anchor">#</a> useObservableState</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TState <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TState<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState
<span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token punctuation">,</span> TInput <span class="token operator">=</span> TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span>input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span>TState <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>input<span class="token operator">:</span> TInput<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">]</span>
<span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token punctuation">,</span> TInput <span class="token operator">=</span> TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span>
    input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">,</span>
    initialState<span class="token operator">:</span> TState
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TState <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TState<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span>TState<span class="token punctuation">,</span> <span class="token punctuation">(</span>input<span class="token operator">:</span> TInput<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">]</span>
</code></pre></div><p>A concurrent mode safe sugar to get values from Observables. Read <a href="/guide/core-concepts.html">Core Concepts</a> to learn more about its design.</p> <p>Is can be used in two ways:</p> <ol><li>Offer an Observable and an optional initial state.<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> output <span class="token operator">=</span> <span class="token function">useObservableState</span><span class="token punctuation">(</span>input$<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span>
</code></pre></div></li> <li>Offer an epic-like function and an optional initial state.<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>output<span class="token punctuation">,</span> onInput<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useObservableState</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">input$<span class="token punctuation">,</span> initialState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> input$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  initialState
<span class="token punctuation">)</span>
</code></pre></div></li></ol> <p>These two ways use different hooks, choose either one each time and do not change to the other one during Component's life cycle.</p> <p>The optional <code>initialState</code> is internally passed to <code>useState(initialState)</code>. This means it can be either a state value or a function that returns the state which is for expensive initialization.</p> <p>The <code>initialState</code>(or its returned result) is also passed to the <code>init</code> function. This is useful if you want to implement reducer pattern which requires an initial state.</p> <p>To make it concurrent mode compatible, the subscription happens after the render is committed to the screen. Even if the Observable emits synchronous values they still will arrive after the first rendering.</p> <div class="custom-block warning"><p class="custom-block-title">Gotcha</p> <p>It is not safe to access other variables from closure directly in the <code>init</code> function. See <a href="/guide/gotchas.html">Gotchas</a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">Error Handling</p> <p>Due to the design of RxJS, once an error occurs in an observable, the observable is killed. You can:</p> <ul><li>Prevent errors from reaching observables or <a href="https://rxjs-dev.firebaseapp.com/api/operators/catchError" target="_blank" rel="noopener noreferrer"><code>catchError</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> in sub-observables.</li> <li>You can also make the observable as state and replace it on error. It will automatically switch to the new one.</li> <li><a href="#userenderthrow"><code>useRenderThrow</code></a> From <code>v4.2.0</code>, Observable error can be caught by React error boundary in which you can perform actions to replace the dead Observable.</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Want to skip initial re-rendering if the observable emits synchronous values? Check out <a href="#useobservableeagerstate"><code>useObservableEagerState</code></a>.</p></div> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In TypeScript if you want to invoke the callback with no argument, use <code>void</code> instead of <code>undefined</code> type.</p></div> <hr> <p><strong>Type parameters:</strong></p> <ul><li><code>TState</code> Output state.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>input$</code></td> <td><code>Observable&lt;TState&gt;</code></td> <td>An Observable.</td></tr> <tr><td><code>initialState</code></td> <td><code>TState | (): TState</code></td> <td>Optional initial state. Can be the state value or a function that returns the state.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>TState</code> State value.</p> <hr> <p><strong>Type parameters:</strong></p> <ul><li><code>TState</code> Output state.</li> <li><code>TInput</code> Input values.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>init</code></td> <td><code>(input$: Observable&lt;TInput&gt;, initialState: TState): Observable&lt;TState&gt;</code></td> <td>An epic-like function that, when applied to an Observable and the initial state value, returns an Observable.</td></tr> <tr><td><code>initialState</code></td> <td><code>TState</code></td> <td>Optional initial state. Can be the state value or a function that returns the state.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>[TState, (input: TInput): void]</code> A tuple with the state and input callback.</p> <hr> <p><strong>Examples:</strong></p> <p>Consume an Observable:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> count$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">useObservableState</span><span class="token punctuation">(</span>count$<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>Or with an <code>init</code> function:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  text$ <span class="token operator">=&gt;</span> text$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">''</span>
<span class="token punctuation">)</span>
</code></pre></div><p>Input and output state can be different types</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// input: string, output: boolean</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>isValid<span class="token punctuation">,</span> updateText<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useObservableState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>text$ <span class="token operator">=&gt;</span>
  text$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">map</span><span class="token punctuation">(</span>text <span class="token operator">=&gt;</span> text<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre></div><p>Event listener pattern:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> pluckCurrentTargetValue<span class="token punctuation">,</span> useObservableState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'observable-hooks'</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>text<span class="token punctuation">,</span> onChange<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useObservableState</span><span class="token punctuation">(</span>pluckCurrentTargetValue<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span> value<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Reducer pattern:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useObservableState</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">action$<span class="token punctuation">,</span> initialState</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> action$<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'INCREMENT'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>state<span class="token punctuation">,</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span>
              <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token keyword">case</span> <span class="token string">'DECREMENT'</span><span class="token operator">:</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>state<span class="token punctuation">,</span>
            <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">-</span>
              <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
          <span class="token keyword">return</span> state
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> initialState<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'INCREMENT'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'DECREMENT'</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="useobservableeagerstate"><a href="#useobservableeagerstate" class="header-anchor">#</a> useObservableEagerState</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservableEagerState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState
</code></pre></div><p>Optimized for safely getting synchronous values from hot or pure observables (e.g. <code>BehaviorSubject</code>) without triggering extra initial re-rendering.</p> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v3.1.0</span> Added since v3.1.0.
<p>This hook will subscribe to the observable at least twice. The first time is for getting synchronous value to prevent extra initial re-rendering. In concurrent mode this may happen more than one time.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If the observable is cold and with side effects they will be performed at least twice! It is only safe if the observable is hot or pure.</p></div> <p><strong>Type parameters:</strong></p> <ul><li><code>TState</code> Output state.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>state$</code></td> <td><code>Observable&lt;TState&gt;</code></td> <td>An Observable.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>TState</code> state value.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> text1$ <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BehaviorSubject</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
<span class="token comment">// 'A'</span>
<span class="token keyword">const</span> text1 <span class="token operator">=</span> <span class="token function">useObservableEagerState</span><span class="token punctuation">(</span>text1$<span class="token punctuation">)</span>

<span class="token keyword">const</span> text2$ <span class="token operator">=</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">)</span>
<span class="token comment">// 'C'</span>
<span class="token keyword">const</span> text2 <span class="token operator">=</span> <span class="token function">useObservableEagerState</span><span class="token punctuation">(</span>text2$<span class="token punctuation">)</span>
</code></pre></div><h2 id="uselayoutobservablestate"><a href="#uselayoutobservablestate" class="header-anchor">#</a> useLayoutObservableState</h2> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v4.1.0</span> Added since <code>v4.1.0</code>.
</p> <p>Same as <a href="#useobservablestate"><code>useObservableState</code></a> except the subscription is established under <code>useLayoutEffect</code>.</p> <p>Unlike <a href="#useobservableeagerstate"><code>useObservableEagerState</code></a> which gets state value synchronously before the first React rendering,  <code>useLayoutObservableState</code> gets state value synchronously after React rendering，while <code>useObservableState</code> gets state value asynchronously after React rendering and browser paint.</p> <p>Useful when values are needed before DOM paint.</p> <p>Use it scarcely as it runs synchronously before browser paint. Too many synchronous emissions from the observable could stretch the commit phase.</p> <h2 id="useobservablegetstate"><a href="#useobservablegetstate" class="header-anchor">#</a> useObservableGetState</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservableGetState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TState <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TState<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState
<span class="token generic-function"><span class="token function">useObservableGetState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  pA<span class="token operator">:</span> <span class="token constant">A</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span>
<span class="token generic-function"><span class="token function">useObservableGetState</span><span class="token generic class-name"><span class="token operator">&lt;</span>
  TState<span class="token punctuation">,</span>
  <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> TState<span class="token punctuation">,</span>
  <span class="token constant">B</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span>
<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  pA<span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">,</span>
  pB<span class="token operator">:</span> <span class="token constant">B</span>
<span class="token punctuation">)</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">B</span><span class="token punctuation">]</span>
<span class="token operator">...</span>
</code></pre></div><p>Inspired by lodash <code>get</code>.</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.3.0</span> Added since <code>v2.3.0</code>. Get value at path of state from an Observable.
</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v3.0.0</span> From <code>v3.0.0</code>. An initial state must be provided.
</p> <p>Only changes of the resulted value will trigger a rerendering.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Unreachable path will throw errors.</p></div> <p><strong>Type parameters:</strong></p> <ul><li><code>TState</code> Output state.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>state$</code></td> <td><code>Observable&lt;TState&gt;</code></td> <td>An Observable.</td></tr> <tr><td><code>initialState</code></td> <td><code>undefined | null | TState[...] | (() =&gt; TState[...])</code></td> <td>Initial value. Can be the value or a function that returns the value.</td></tr> <tr><td><code>pA</code></td> <td><code>keyof TState</code></td> <td>Key of <code>TState</code>.</td></tr> <tr><td><code>pB</code></td> <td><code>keyof TState[A]</code></td> <td>Key of <code>TState[A]</code>.</td></tr> <tr><td><code>pC</code></td> <td><code>keyof TState[A][B]</code></td> <td>Key of <code>TState[A][B]</code>.</td></tr> <tr><td><code>...</code></td> <td><code>...</code></td> <td><code>....</code></td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>TState[...]</code> Initial value or the value at path of <code>TState</code>.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> state$ <span class="token operator">=</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 'default' on first rendering</span>
<span class="token comment">// 'value' on next rendering</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">useObservableGetState</span><span class="token punctuation">(</span>state$<span class="token punctuation">,</span> <span class="token string">'default'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="useobservablepickstate"><a href="#useobservablepickstate" class="header-anchor">#</a> useObservablePickState</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useObservablePickState</span><span class="token generic class-name"><span class="token operator">&lt;</span>
  TState<span class="token punctuation">,</span>
  TKeys <span class="token keyword">extends</span> <span class="token keyword">keyof</span> TState<span class="token punctuation">,</span>
  TInitial <span class="token keyword">extends</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">|</span> <span class="token keyword">void</span>
<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span> TInitial<span class="token punctuation">,</span>
  <span class="token operator">...</span>keys<span class="token operator">:</span> TKeys<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> TKeys<span class="token punctuation">]</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">|</span> TInitial
<span class="token generic-function"><span class="token function">useObservablePickState</span><span class="token generic class-name"><span class="token operator">&lt;</span>TState<span class="token punctuation">,</span> TKeys <span class="token keyword">extends</span> <span class="token keyword">keyof</span> TState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
  state$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  initialState<span class="token operator">:</span>
    <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> TKeys<span class="token punctuation">]</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
    <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> TKeys<span class="token punctuation">]</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>keys<span class="token operator">:</span> TKeys<span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> TKeys<span class="token punctuation">]</span><span class="token operator">:</span> TState<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre></div><p>Inspired by lodash <code>pick</code>.</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.3.2</span> Added since <code>v2.3.2</code>. Creates an object composed of the picked state properties.
</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v3.0.0</span> From <code>v3.0.0</code>. An initial state must be provided.
</p> <p>Changes of any of these properties will trigger a rerendering.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Unreachable path will throw errors.</p></div> <p><strong>Type parameters:</strong></p> <ul><li><code>TState</code> Output state.</li> <li><code>TKeys</code> keys of state.</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>state$</code></td> <td><code>Observable&lt;TState&gt;</code></td> <td>An Observable.</td></tr> <tr><td><code>initialState</code></td> <td><code>undefined | null | { [K in TKeys]: TState[K] } | (() =&gt; { [K in TKeys]: TState[K] })</code></td> <td>Initial value. Can be the value or a function that returns the value.</td></tr> <tr><td><code>...path</code></td> <td><code>Array&lt;keyof TState&gt;</code></td> <td>Keys of <code>TState</code>.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>{ [K in TKeys]: TState[K] }</code> Initial value or partial <code>TState</code>.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> state$ <span class="token operator">=</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// { a: '', b: '', c: '' } on first rendering</span>
<span class="token comment">// { a: 'a', b: 'b', c: 'c' } on next rendering</span>
<span class="token keyword">const</span> picked <span class="token operator">=</span> <span class="token function">useObservablePickState</span><span class="token punctuation">(</span>
  state$<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="userenderthrow"><a href="#userenderthrow" class="header-anchor">#</a> useRenderThrow</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token generic-function"><span class="token function">useRenderThrow</span><span class="token generic class-name"><span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>input$<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>TInput<span class="token operator">&gt;</span> 
</code></pre></div><p>Captures Observable errors and re-throw them as React render errors so that they can be caught by ErrorBoundary.</p> <p><span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v4.2.0</span> Added since <code>v4.2.0</code>.
</p> <p><strong>Type parameters:</strong></p> <ul><li><code>TInput</code> Input Observable</li></ul> <p><strong>Parameters:</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>input$</code></td> <td><code>Observable&lt;TInput&gt;</code></td> <td>An Observable.</td></tr></tbody></table> <p><strong>Returns:</strong></p> <p><code>Observable&lt;TInput&gt;</code> An Observable.</p> <p><strong>Examples:</strong></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> state$ <span class="token operator">=</span> <span class="token function">useObservable</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token string">'c'</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> enhanced$ <span class="token operator">=</span> <span class="token function">useRenderThrow</span><span class="token punctuation">(</span>state$<span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/crimx/observable-hooks/edit/master/docs/api/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/api/suspense.html">
        Suspense
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c55819c0.js" defer></script><script src="/assets/js/3.4924f867.js" defer></script><script src="/assets/js/8.594cab63.js" defer></script><script src="/assets/js/5.1d4d528e.js" defer></script><script src="/assets/js/4.f2192f58.js" defer></script>
  </body>
</html>
